<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />

  <title>Random chat with stranger</title>
  <meta name="description" content="Random chat with stranger" />

  <!-- Strongly recommend correct content-type from server:
       Content-Type: text/html; charset=utf-8 -->

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://chat-with-stranger.com/favicon.ico" />

  <!-- Open Graph / Social Preview -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Random chat with stranger" />
  <meta property="og:description" content="Random chat with stranger" />
  <meta property="og:image" content="https://chat-with-stranger.com/preview.jpg" />
  <meta property="og:url" content="https://chat-with-stranger.com/" />
  <meta property="og:site_name" content="chat-with-stranger.com" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Random chat with stranger" />
  <meta name="twitter:description" content="Random chat with stranger" />
  <meta name="twitter:image" content="https://chat-with-stranger.com/preview.jpg" />

  <style>
    :root { --fg:#000; --bg:#fff; }
    html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji;}
    .wrap{min-height:100%;display:grid;place-items:center;padding:24px;}
    .card{width:100%;max-width:560px;}
    h1{font-size:clamp(28px,6vw,48px);line-height:1.05;margin:0 0 4px 0;font-weight:800;letter-spacing:-0.02em;text-align:left;}
    h2{font-size:clamp(22px,4.5vw,36px);line-height:1.05;margin:0 0 24px 0;font-weight:700;letter-spacing:-0.015em;opacity:.9;text-align:left;}
    label{font-size:14px;display:block;margin-bottom:8px;}
    select{width:100%;font-size:16px;padding:12px 14px;border:1px solid #111;background:#fff;color:#000;border-radius:8px;appearance:none;-webkit-appearance:none;-moz-appearance:none;}
    .row{display:grid;grid-template-columns:1fr;gap:16px;margin-top:16px;}
    @media (min-width:560px){.row.two{grid-template-columns:1fr 1fr;}}
    button{width:100%;font-size:16px;font-weight:700;padding:12px 14px;border-radius:10px;border:1px solid #000;background:#000;color:#fff;cursor:pointer;margin-top:20px;}
    button:active{transform:translateY(1px);}
    .hint{margin-top:10px;font-size:12px;opacity:.7;}
  </style>
</head>
<body>
  <main class="wrap">
    <section class="card" role="region" aria-labelledby="title-rc">
      <h1 id="title-rc">Random Chat</h1>
      <h2 id="subtitle-rc">with stranger</h2>

      <div class="row">
        <div>
          <label id="label-language" for="lang">Language</label>
          <select id="lang" aria-label="Choose language"></select>
        </div>
      </div>

      <div class="row two">
        <div>
          <label id="label-gender" for="gender">Your gender (optional)</label>
          <select id="gender" aria-label="Choose gender (optional)">
            <option value="male">üë® male</option>
            <option value="female">üë© female</option>
            <option value="prefer-not-to-say" selected>üôà prefer not to say</option>
          </select>
          <div id="hint-gender" class="hint">Gender won‚Äôt affect page navigation.</div>
        </div>
      </div>

      <button id="enterBtn" type="button">Enter</button>
    </section>
  </main>

  <script>
    // Language list
    const LANGS=[{code:"EN",label:"English"},{code:"CN",label:"‰∏≠Êñá"},{code:"ES",label:"Espa√±ol"},{code:"KO",label:"ÌïúÍµ≠Ïñ¥"},{code:"JA",label:"Êó•Êú¨Ë™û"},{code:"FR",label:"Fran√ßais"},{code:"IT",label:"Italiano"},{code:"NL",label:"Nederlands"},{code:"PT",label:"Portugu√™s"},{code:"HI",label:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä"},{code:"AR",label:"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"},{code:"BN",label:"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ"},{code:"RU",label:"–†—É—Å—Å–∫–∏–π"},{code:"VI",label:"Ti·∫øng Vi·ªát"},{code:"ID",label:"Bahasa Indonesia"},{code:"TH",label:"‡πÑ‡∏ó‡∏¢"},{code:"MY",label:"·Äô·Äº·Äî·Ä∫·Äô·Ä¨"}];

    // i18n (ÎèôÏùº)
    const I18N=/* Í∑∏ÎåÄÎ°ú */ <?= '/* Ïó¨Í∏∞Ïóê ÎãπÏã†Ïùò I18N Í∞ùÏ≤¥Î•º Í∑∏ÎåÄÎ°ú Î∂ôÏù¥ÏÑ∏Ïöî (Í∏∏Ïñ¥ÏÑú ÏÉùÎûµÌï¥ÎèÑ Îê®) */' ?>;
    // ‚Üë ÌÖúÌîåÎ¶ø ÏóîÏßÑÏùÑ Ïì∞ÏßÄ ÏïäÎäîÎã§Î©¥ Ïù¥ Ï§ÑÏùÄ ÏÇ≠Ï†úÌïòÍ≥†, ÏßàÎ¨∏Ïóê Ïò¨Î¶∞ I18N Í∞ùÏ≤¥Î•º Í∑∏ÎåÄÎ°ú ÎÑ£ÏúºÏÑ∏Ïöî.

    // Populate language dropdown
    const langSelect=document.getElementById('lang');
    LANGS.forEach(({code,label})=>{const opt=document.createElement('option');opt.value=code;opt.textContent=label;langSelect.appendChild(opt);});
    langSelect.value='EN';

    const els={title:document.getElementById('title-rc'),subtitle:document.getElementById('subtitle-rc'),labelLanguage:document.getElementById('label-language'),labelGender:document.getElementById('label-gender'),hintGender:document.getElementById('hint-gender'),enterBtn:document.getElementById('enterBtn'),genderSelect:document.getElementById('gender')};

    function applyI18n(code){
      const t=(I18N&&I18N[code])||I18N?.EN||{title:'Random Chat',subtitle:'with stranger',labelLanguage:'Language',labelGender:'Your gender (optional)',hintGender:'Gender won‚Äôt affect page navigation.',enter:'Enter',genderMale:'üë® male',genderFemale:'üë© female',genderNA:'üôà prefer not to say',dir:'ltr',htmlLang:'en'};
      els.title.textContent=t.title; els.subtitle.textContent=t.subtitle;
      els.labelLanguage.textContent=t.labelLanguage; els.labelGender.textContent=t.labelGender; els.hintGender.textContent=t.hintGender; els.enterBtn.textContent=t.enter;
      const [o1,o2,o3]=els.genderSelect.options; o1.textContent=t.genderMale; o2.textContent=t.genderFemale; o3.textContent=t.genderNA;
      document.documentElement.lang=t.htmlLang||'en'; document.documentElement.dir=t.dir||'ltr';
    }
    applyI18n('EN');

    langSelect.addEventListener('change',()=>applyI18n(langSelect.value));

    document.getElementById('enterBtn').addEventListener('click',()=>{
      const code=langSelect.value||'EN'; window.location.assign(`/${code}`);
    });

    // Auto-detect
    try{
      const navLang=(navigator.language||navigator.userLanguage||"en").toLowerCase();
      const mapping=[["en","EN"],["zh","CN"],["es","ES"],["ko","KO"],["ja","JA"],["fr","FR"],["it","IT"],["nl","NL"],["pt","PT"],["hi","HI"],["ar","AR"],["bn","BN"],["ru","RU"],["vi","VI"],["id","ID"],["th","TH"],["my","MY"]];
      for(const [prefix,code] of mapping){ if(navLang.startsWith(prefix.toLowerCase()) && I18N?.[code]){ langSelect.value=code; applyI18n(code); break; } }
    }catch{}
  </script>
</body>
</html>
